{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  },\n  {\n    path: 'movie/:id',\n    loadChildren: () => import('../item-detail/item-detail.module').then( m => m.ItemDetailModule)\n  },\n  {\n    path: 'tv/:id',\n    loadChildren: () => import('../item-detail/item-detail.module').then( m => m.ItemDetailModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar mode=\\\"md\\\">\\n    <ion-title>\\n      <ion-img src=\\\"assets/icon/title.png\\\"></ion-img>\\n    </ion-title>\\n    <ion-buttons class=\\\"right-btns\\\" mode=\\\"ios\\\" slot=\\\"end\\\">\\n      <ion-button color=\\\"dark\\\" (click)=\\\"goToProfil()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"person-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <app-spotlight [showInfos]=\\\"true\\\" [item]=\\\"spotlightItem\\\"></app-spotlight>\\n\\n  <div class=\\\"ion-padding\\\">\\n    <app-item-horizontal-list title=\\\"Films les plus populaires\\\" [items]=\\\"popularMovies\\\"></app-item-horizontal-list>\\n    <app-item-horizontal-list title=\\\"Séries les plus populaires\\\" [items]=\\\"popularSeries\\\"></app-item-horizontal-list>\\n    <app-item-horizontal-list title=\\\"Films en tendance cette semaine\\\" [items]=\\\"trendingMovies\\\"></app-item-horizontal-list>\\n    <app-item-horizontal-list title=\\\"Séries en tendance cette semaine\\\" [items]=\\\"trendingSeries\\\"></app-item-horizontal-list>\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { HomePageRoutingModule } from './home-routing.module';\nimport { HomePage } from './home.page';\nimport { ItemDetailModule } from '../item-detail/item-detail.module';\nimport { ComponentsModule } from '../components/components.module';\nimport { NetworkService } from '../services/network/network.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    ItemDetailModule,\n    ComponentsModule\n  ],\n  declarations: [HomePage],\n  providers: [NetworkService]\n})\nexport class HomePageModule {}\n","export default \"ion-header ion-img {\\n  max-width: 90px;\\n  margin: auto;\\n}\\nion-header .right-btns {\\n  position: absolute;\\n  right: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksZUFBQTtFQUNBLFlBQUE7QUFBUjtBQUdJO0VBQ0ksa0JBQUE7RUFDQSxRQUFBO0FBRFIiLCJmaWxlIjoiaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVyIHtcbiAgICBpb24taW1nIHtcbiAgICAgICAgbWF4LXdpZHRoOiA5MHB4O1xuICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgfVxuXG4gICAgLnJpZ2h0LWJ0bnMge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgIH1cbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { switchMap, take, tap } from 'rxjs/operators';\nimport { EBackdropSizes } from '../services/tmdb/models/EBackdropSizes';\nimport { EPosterSizes } from '../services/tmdb/models/EPosterSizes';\nimport { IItem, IItemsResponse } from '../services/tmdb/models/IItem';\nimport { TMDBService } from '../services/tmdb/tmdb.service';\nimport { AuthService } from '../auth/auth.service';\nimport { Router } from '@angular/router';\nimport { IItemDetail } from '../services/tmdb/models/IItemDetail';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  public spotlightItem: IItemDetail;\n  public popularMovies: IItem[];\n  public popularSeries: IItem[];\n  public trendingMovies: IItem[];\n  public trendingSeries: IItem[];\n\n  constructor(\n    private isvcTMDB: TMDBService,\n    private isvcAuth: AuthService,\n    private ioRouter: Router\n  ) { }\n\n  ngOnInit() {\n    this.isvcTMDB.getMovies({ sort_by: \"popularity.desc\", page: 1 }).pipe(\n      tap((poResponse: IItemsResponse) => {\n        poResponse.results.forEach((poMovie: IItem) => {\n          this.isvcTMDB.addImagePathToItem(poMovie, EBackdropSizes['1280px'], EPosterSizes['185px']);\n        });\n        this.popularMovies = poResponse.results;\n      }),\n      switchMap(() => this.isvcTMDB.getSeries({ sort_by: \"popularity.desc\", page: 1 })),\n      tap((poResponse: IItemsResponse) => {\n        poResponse.results.forEach((poSerie: IItem) => {\n          this.isvcTMDB.addImagePathToItem(poSerie, EBackdropSizes['1280px'], EPosterSizes['185px']);\n        });\n        this.popularSeries = poResponse.results;\n      }),\n      switchMap(() => this.isvcTMDB.getTrendingMovies({ page: 1 })),\n      tap((poResponse: IItemsResponse) => {\n        poResponse.results.forEach((poMovie: IItem) => {\n          this.isvcTMDB.addImagePathToItem(poMovie, EBackdropSizes['1280px'], EPosterSizes['185px']);\n        });\n        this.trendingMovies = poResponse.results;\n      }),\n      switchMap(() => this.isvcTMDB.getTrendingSeries({ page: 1 })),\n      tap((poResponse: IItemsResponse) => {\n        poResponse.results.forEach((poSerie: IItem) => {\n          this.isvcTMDB.addImagePathToItem(poSerie, EBackdropSizes['1280px'], EPosterSizes['185px']);\n        });\n        this.trendingSeries = poResponse.results;\n      }),\n      switchMap(() => this.isvcTMDB.getBestTrending({ page: 1 })),\n      tap((poResponse: IItemsResponse) => {\n        poResponse.results.forEach((poItem: IItem) => {\n          this.isvcTMDB.addImagePathToItem(poItem, EBackdropSizes.original, EPosterSizes['185px']);\n        });\n        const randomInt: number = Math.floor(Math.random() * 20);\n        this.spotlightItem = poResponse.results[randomInt] as IItemDetail;\n      })\n    ).subscribe();\n  }\n\n  public async goToProfil(): Promise<void> {\n    this.isvcAuth.user\n      .pipe(\n        take(1),\n        tap((poUser: firebase.default.User) => {\n          if (poUser)\n            this.ioRouter.navigateByUrl(\"/profil\");\n          else \n            this.isvcAuth.showAuthModal();\n        })\n      ).subscribe();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}